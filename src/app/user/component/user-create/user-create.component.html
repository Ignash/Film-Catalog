<form [formGroup]="form" (ngSubmit)="submit()">
    <h2>Войти в систему</h2>

    <div class="form-control" [ngClass]="{invalid: form.get('name').touched &&form.get('name').invalid}">
        <label for="name">Name:</label>
        <input id="name" type="text" formControlName="name">
        <div 
            class="validation"
            *ngIf="form.get('name').touched && form.get('name').invalid"
            >
            <small *ngIf="form.get('name').errors.required">Ввведите Имя</small>
        </div>
    </div>

    <div class="form-control" [ngClass]="{invalid: form.get('email').touched && form.get('email').invalid}">
        <label for="email">Email:</label>
        <input id="email" type="email" formControlName="email">
        <div class="validation" *ngIf="form.get('email').touched && form.get('email').invalid">
            <small *ngIf="form.get('email').errors.required">Ввведите email</small>
            <small *ngIf="form.get('email').errors.email">Email не валидный</small>
        </div>
    </div>

    <fieldset formGroupName="matchingPassword">
        <div class="form-control" [ngClass]="{invalid: form.get('matchingPassword').get('password').touched && form.get('matchingPassword').get('password').invalid}">
            <label for="password">Password:</label>
            <input id="password" type="password" formControlName="password">
            <div 
                class="validation"
                *ngIf="form.get('matchingPassword').get('password').touched && form.get('matchingPassword').get('password').invalid"
                >
                <small *ngIf="form.get('matchingPassword').get('password').errors.required">Введите пароль</small>
                <small *ngIf="form.get('matchingPassword').get('password').errors.minlength">
                    Пароль должен содержать не мение 
                    {{form.get('matchingPassword').get('password').errors.minlength.requiredLength}},
                    было введено
                    {{form.get('matchingPassword').get('password').errors.minlength.actualLength}}
                </small>
            </div>
        </div>
        
        <div class="form-control" [ngClass]="{invalid: form.get('matchingPassword').get('confirm_password').touched && form.get('matchingPassword').get('confirm_password').invalid}">
            <label for="confirm_password">Re-enter password:</label>
            <input id="confirm_password" type="password" formControlName="confirm_password">
            <div 
                class="validation"
                *ngIf="form.get('matchingPassword').get('confirm_password').touched && form.get('matchingPassword').get('confirm_password').invalid">
                <small *ngIf="form.get('matchingPassword').get('confirm_password').errors.required">Повторите пароль</small>
                <small *ngIf="form.get('matchingPassword').errors.areEqual">
                    Пароль не совпадает с введеным выше
                </small>
            </div>
        </div>
    </fieldset>

    <button 
        type="submit" 
        class="btn"
        [disabled]="form.invalid">
        Войти
    </button>
</form>
<div (click)="debug()">start</div>

<div>{{form.get('matchingPassword').errors|json}}</div>
